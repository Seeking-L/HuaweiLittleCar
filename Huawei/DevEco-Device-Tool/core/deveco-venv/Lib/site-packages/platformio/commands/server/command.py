import platformio.commands.remote.command
# noinspection PyPackageRequirements
import click


@click.command("server", short_help="DevEco Remote operation server")
@click.option("--port", type=int, default=8100, help="HTTP port, default=8100")
@click.option("--auto-stop", is_flag=True, help="Stop server on last connection closed")
@click.option("--verbose", is_flag=True, help="Verbose mode")
@click.pass_context
def cli(ctx, port, auto_stop, verbose):
    click.secho('"hos server ..." command is deprecated. Use "hos remote operation-server ..."', fg='red')
    return ctx.invoke(platformio.commands.remote.command.operation_server,
                      port=port,
                      auto_stop=auto_stop,
                      verbose=verbose)
